# 分離
コンポーネント間の結合は極力最小化する。それによって変更の容易性は上がる。

## 大域データ
大きな範囲にまたがっている変数のこと。こういったデータは部品間の結合を招くため極力避けるべきである。
### グローバル変数
すべての要素の外側に定義する、共通で利用できる変数。ただし複数の関数で利用することになるため直行性は確定で失われる。
## 列車の衝突事故
メソッド呼び出しの連鎖によって一部分の変更の影響がより多くの部分へと渡ることのの比喩表現。
### プログラム例
```python
public void applyDiscount(customor, order_id, discount){
    totals = customer.orders.find(order_id).getTotals();
    totals.grandTotal = totals.grandTotal - discount;
    totals.discount = discount;
}
```
以上のプログラムでは顧客オブジェクトから注文を割り出し、そこから注文を割り出した後その合計を算出している。
以上のコードは
- 5つの階層をたどっている
- `costomer`オブジェクトがidから注文を割り出す`find`メソッドを持っている
- 注文オブジェクトが総額を返す`getTotals`メソッドを有している
- 総額を管理する`totals`オブジェクトが合計額のゲッター(値を参照するメソッド)とセッター(値を受け取る変数)、割引額のセッター(割引額を受け取る変数)を持っている

以上のものはtotalsの中にはいらない知識である。そのうえこれらはコードを正常に動かすために変更を加えられない要素になってしまう。

### 対処法
- totalsオブジェクトが総額の管理をすべて担うべきである

という考えもあるが、ここは
**照会せずに依頼する**ということが大切である。

すなわち長い照会を記述せず、役割を分離するといったところか。
以上のプログラムにおいては、
- 注文オブジェクトをわざわざ顧客オブジェクトの中に入れる必要はない
(注文として独立に存在させればいい)

そして、**メソッド呼び出しを連鎖させない**。すなわち何かにアクセスするときは**ドット(.)を二つ以上続けない** といったことを意識するのがいいだろう。

### 例外
しかし絶対に安定してるような関数を利用する時には例外である。またドットをつなぎたくないからと言って変数を使って結局結合させるというのもアレである。

## 
# 実世界を扱う
現実空間、物理空間をコンピュータ上で扱う。すなわち、**物理空間で起こった物事(イベント)** に対してどのように対処するかといったところを扱う。
以下の4つの戦略が考えられる
## 有限状態機械
ある状態のときにあるイベントが発生したときどのような処理を行って次にどのような状態に遷移するかというモデルを用いて設計する方法
- 組み込みシステム開発において多く用いられる手法
## Observerパターン
- 観測対象のObservableと観測を行うObserverの二つの役割。
- Observableが更新されたらObserverに通知する。
### 具体的な仕組み
呼び出すべき関数やメソッドをあらかじめ登録し、Observableが更新されたときにその関数を呼び出す(**コールバック**)という単純な仕組み
- しかしObserverが多いと遅くなるという問題がある。
## Publish/Subscriveプロトコル
ロボット開発等
## リアクティブプログラミングとストリーム、イベント
- 最近のウェブプログラミングで用いられる仕組み
- フロントエンド、バックエンドで完全に役割を分離できる。
- パフォーマンスに優れる
### Excelでのたとえ
Excelでの値の変更を実現するために、observerパターンが開発された。
直近ではリアクティブストリームやイベント等がyく用いられている。

# 変換のプログラミング
プログラミングとはコードの話であるが、プログラムとはデータについての話である。
